```
def legendre(a, p):
    return pow(a, (p - 1) // 2, p)
```